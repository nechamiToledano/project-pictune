import{a as ye,c as Se}from"./chunk-QE36H3ZQ.js";import{a as Me,m as xe}from"./chunk-4B5H75DD.js";import{a as z,f as N}from"./chunk-CJGG3F3I.js";import{a as ee,b as te,c as _,d as oe,e as C,f as ae,g as re,h as le,i as me,j as se,k as de,l as ce,m as pe,n as fe,o as ue,p as ge,q as _e,r as Ce,s as he,t as ve}from"./chunk-FCJPXTEM.js";import{d as ie,e as ne}from"./chunk-4W32LKNF.js";import"./chunk-IWGA4FRR.js";import"./chunk-WLEV262L.js";import"./chunk-WLAAEWUG.js";import{a as J,b as K}from"./chunk-JTFT4WKO.js";import"./chunk-I3QGOUHP.js";import{a as W,b as X}from"./chunk-SLGXTDFG.js";import{a as Q,c as B,g as q,h as G}from"./chunk-ZX2763UK.js";import{a as Y,b as Z}from"./chunk-OUGBS6IF.js";import{d as A}from"./chunk-VZDUFQRZ.js";import"./chunk-2XJNOYJH.js";import{l as j,n as V,o as $}from"./chunk-YZJZENHB.js";import{Ab as f,Ba as D,Cb as E,Dc as F,Eb as y,Fb as g,Jb as S,Kb as v,Lb as b,Pb as a,Qb as u,Rc as H,Ta as r,Ub as L,Vb as T,Xb as I,Ya as M,Yb as R,cb as O,hb as m,la as w,nb as d,qc as k,sb as x,ta as U,ua as P,wb as n,xb as o,yb as c,zb as p}from"./chunk-6WES2Y7B.js";var we=()=>[5,10,25,100],Ue=e=>["/users/edit",e];function Pe(e,t){e&1&&(n(0,"div",11),c(1,"mat-spinner",13),n(2,"p"),a(3,"Loading users..."),o()())}function De(e,t){e&1&&(n(0,"th",26),a(1,"ID"),o())}function Oe(e,t){if(e&1&&(n(0,"td",27),a(1),o()),e&2){let i=t.$implicit;r(),u(i.id)}}function Ee(e,t){e&1&&(n(0,"th",26),a(1,"Username"),o())}function Le(e,t){if(e&1&&(n(0,"td",27)(1,"div",28)(2,"div",29),a(3),o(),n(4,"span"),a(5),o()()()),e&2){let i=t.$implicit,l=g(2);r(3),u(l.getUserInitials(i.userName)),r(2),u(i.userName)}}function Te(e,t){e&1&&(n(0,"th",26),a(1,"Email"),o())}function Ie(e,t){if(e&1&&(n(0,"td",27),a(1),o()),e&2){let i=t.$implicit;r(),u(i.email)}}function Re(e,t){e&1&&(n(0,"th",30),a(1,"Actions"),o())}function ke(e,t){if(e&1){let i=E();n(0,"td",27)(1,"div",31)(2,"button",32)(3,"mat-icon"),a(4,"edit"),o()(),n(5,"button",33),y("click",function(){let s=U(i).$implicit,h=g(2);return P(h.deleteUser(s.id))}),n(6,"mat-icon"),a(7,"delete"),o()()()()}if(e&2){let i=t.$implicit;r(2),d("routerLink",T(1,Ue,i.id))}}function Ae(e,t){e&1&&c(0,"tr",34)}function Fe(e,t){e&1&&c(0,"tr",35)}function He(e,t){e&1&&(n(0,"tr",24)(1,"td",36)(2,"div",37)(3,"mat-icon"),a(4,"search_off"),o(),n(5,"p"),a(6,"No users matching your filter"),o()()()())}function je(e,t){if(e&1&&(n(0,"div",12)(1,"table",14),p(2,15),m(3,De,2,0,"th",16)(4,Oe,2,1,"td",17),f(),p(5,18),m(6,Ee,2,0,"th",16)(7,Le,6,2,"td",17),f(),p(8,19),m(9,Te,2,0,"th",16)(10,Ie,2,1,"td",17),f(),p(11,20),m(12,Re,2,0,"th",21)(13,ke,8,3,"td",17),f(),m(14,Ae,1,0,"tr",22)(15,Fe,1,0,"tr",23)(16,He,7,0,"tr",24),o(),c(17,"mat-paginator",25),o()),e&2){let i=g();r(),d("dataSource",i.dataSource),r(13),d("matHeaderRowDef",i.displayedColumns),r(),d("matRowDefColumns",i.displayedColumns),r(),x(i.dataSource.filteredData.length===0?16:-1),r(),d("pageSizeOptions",L(5,we))}}var be=class e{constructor(t,i){this.store=t;this.dialog=i;this.loading$=this.store.select(Se)}displayedColumns=["id","userName","email","actions"];dataSource=new he([]);loading$;destroyRef=w(D);paginator;sort;ngOnInit(){this.store.dispatch(Me()),this.store.select(ye).pipe(F(this.destroyRef)).subscribe(t=>{this.dataSource.data=t})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(t){let i=t.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}deleteUser(t){this.dialog.open(ve,{width:"400px",data:{title:"Confirm Delete",message:"Are you sure you want to delete this user? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(l=>{l&&this.store.dispatch(xe({id:t}))})}getUserInitials(t){return t?t.split(" ").map(i=>i[0]).join("").toUpperCase():""}static \u0275fac=function(i){return new(i||e)(M(H),M(ee))};static \u0275cmp=O({type:e,selectors:[["app-user-list"]],viewQuery:function(i,l){if(i&1&&(S(_,5),S(C,5)),i&2){let s;v(s=b())&&(l.paginator=s.first),v(s=b())&&(l.sort=s.first)}},decls:24,vars:3,consts:[[1,"page-container","fade-in"],[1,"page-header"],[1,"header-title"],[1,"header-icon"],["mat-raised-button","","color","primary","routerLink","/users/new",1,"action-button"],[1,"content-card"],[1,"card-header-line"],[1,"card-content"],["appearance","outline",1,"filter-field"],["matPrefix",""],["matInput","","placeholder","Search users...",3,"keyup"],[1,"loading-container"],[1,"table-container"],["diameter","40"],["mat-table","","matSort","",1,"data-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-row"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"user-cell"],[1,"user-avatar"],["mat-header-cell",""],[1,"action-buttons"],["mat-icon-button","","matTooltip","Edit User",3,"routerLink"],["mat-icon-button","","matTooltip","Delete User","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["colspan","4",1,"mat-cell","empty-row"],[1,"empty-state"]],template:function(i,l){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),a(5,"people"),o()(),n(6,"h1"),a(7,"Users"),o()(),n(8,"button",4)(9,"mat-icon"),a(10,"add"),o(),a(11," Add User "),o()(),n(12,"mat-card",5),c(13,"div",6),n(14,"div",7)(15,"mat-form-field",8)(16,"mat-label"),a(17,"Filter"),o(),n(18,"mat-icon",9),a(19,"search"),o(),n(20,"input",10),y("keyup",function(h){return l.applyFilter(h)}),o()(),m(21,Pe,4,0,"div",11),I(22,"async"),m(23,je,18,6,"div",12),o()()()),i&2&&(r(21),x(R(22,1,l.loading$)?21:23))},dependencies:[k,A,Ce,le,se,fe,de,me,ue,ce,pe,ge,_e,re,C,ae,oe,_,G,q,Q,B,X,W,$,V,j,K,J,Z,Y,N,z,te,ne,ie],styles:[".page-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:3rem;height:3rem;border-radius:.75rem;background:linear-gradient(to right,#dc262633,#2563eb33)}.header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:var(--text-primary)}h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin:0;color:var(--text-primary)}.action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;height:2.5rem}.content-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.card-header-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(to right,#dc262633,#2563eb33)}.card-content[_ngcontent-%COMP%]{padding:1.5rem}.filter-field[_ngcontent-%COMP%]{margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 0;color:var(--text-secondary)}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem}.table-container[_ngcontent-%COMP%]{position:relative;min-height:200px;overflow:auto}.data-table[_ngcontent-%COMP%]{width:100%}.user-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;border-radius:50%;background:linear-gradient(to right,#dc2626b3,#2563ebb3);font-size:.75rem;font-weight:500;color:#fff}.email-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.email-icon[_ngcontent-%COMP%]{font-size:1.25rem;height:1.25rem;width:1.25rem;color:var(--icon-color)}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.empty-row[_ngcontent-%COMP%]{height:10rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;color:var(--text-muted)}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;margin-bottom:1rem}"]})};export{be as UserListComponent};
