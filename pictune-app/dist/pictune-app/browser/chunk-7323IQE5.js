import{a as Ct,c as ht}from"./chunk-3ITUBIXZ.js";import{a as yt,m as _t}from"./chunk-KG45P2CG.js";import{a as W,b as X,c as u,d as tt,e as y,f as et,g as it,h as nt,i as at,j as ot,k as lt,l as rt,m as mt,n as st,o as ct,p as pt,q as dt,r as ft,s as gt,t as ut}from"./chunk-FCJPXTEM.js";import{d as Y,e as Z}from"./chunk-4W32LKNF.js";import"./chunk-IWGA4FRR.js";import"./chunk-WLEV262L.js";import"./chunk-WLAAEWUG.js";import{a as N,b as q}from"./chunk-JTFT4WKO.js";import"./chunk-I3QGOUHP.js";import{a as G,b as J}from"./chunk-SLGXTDFG.js";import{a as z,d as V,g as Q,h as B}from"./chunk-ZX2763UK.js";import{a as K,b as U}from"./chunk-OUGBS6IF.js";import{d as R}from"./chunk-VZDUFQRZ.js";import"./chunk-2XJNOYJH.js";import{l as F,n as H,o as $}from"./chunk-YZJZENHB.js";import{Ab as d,Cb as E,Eb as M,Fb as L,Jb as P,Kb as x,Lb as S,Pb as o,Qb as g,Rc as j,Ta as r,Ub as T,Vb as I,Xb as w,Ya as C,Yb as b,cb as D,hb as m,nb as c,qc as A,rc as k,sb as h,ta as O,ua as v,wb as a,xb as n,yb as f,zb as p}from"./chunk-6WES2Y7B.js";var Pt=()=>[5,10,25,100],xt=t=>["/playlists/edit",t];function St(t,e){t&1&&(a(0,"div",6),f(1,"mat-spinner"),n())}function wt(t,e){t&1&&(a(0,"th",21),o(1,"ID"),n())}function bt(t,e){if(t&1&&(a(0,"td",22),o(1),n()),t&2){let i=e.$implicit;r(),g(i.id)}}function Ot(t,e){t&1&&(a(0,"th",21),o(1,"Name"),n())}function vt(t,e){if(t&1&&(a(0,"td",22),o(1),n()),t&2){let i=e.$implicit;r(),g(i.name)}}function Dt(t,e){t&1&&(a(0,"th",21),o(1,"Description"),n())}function Et(t,e){if(t&1&&(a(0,"td",22),o(1),n()),t&2){let i=e.$implicit;r(),g(i.description)}}function Lt(t,e){t&1&&(a(0,"th",21),o(1,"Created At"),n())}function Tt(t,e){if(t&1&&(a(0,"td",22),o(1),w(2,"date"),n()),t&2){let i=e.$implicit;r(),g(b(2,1,i.createdAt))}}function It(t,e){t&1&&(a(0,"th",23),o(1,"Actions"),n())}function At(t,e){if(t&1){let i=E();a(0,"td",22)(1,"button",24)(2,"mat-icon"),o(3,"edit"),n()(),a(4,"button",25),M("click",function(){let s=O(i).$implicit,_=L();return v(_.deletePlaylist(s.id))}),a(5,"mat-icon"),o(6,"delete"),n()()()}if(t&2){let i=e.$implicit;r(),c("routerLink",I(1,xt,i.id))}}function kt(t,e){t&1&&f(0,"tr",26)}function Rt(t,e){t&1&&f(0,"tr",27)}function jt(t,e){t&1&&(a(0,"tr",19)(1,"td",28),o(2,"No data matching the filter"),n()())}var Mt=class t{constructor(e,i){this.store=e;this.dialog=i;this.loading$=this.store.select(ht)}displayedColumns=["id","name","description","createdAt","actions"];dataSource=new gt([]);loading$;paginator;sort;ngOnInit(){this.store.dispatch(yt()),this.store.select(Ct).subscribe(e=>{this.dataSource.data=e})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let i=e.target.value;this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}deletePlaylist(e){this.dialog.open(ut,{width:"350px",data:{title:"Confirm Delete",message:"Are you sure you want to delete this playlist?",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(l=>{l&&this.store.dispatch(_t({id:e}))})}static \u0275fac=function(i){return new(i||t)(C(j),C(W))};static \u0275cmp=D({type:t,selectors:[["app-playlist-list"]],viewQuery:function(i,l){if(i&1&&(P(u,5),P(y,5)),i&2){let s;x(s=S())&&(l.paginator=s.first),x(s=S())&&(l.sort=s.first)}},decls:37,vars:9,consts:[[1,"playlist-list-container"],[1,"header"],["mat-raised-button","","color","primary","routerLink","/playlists/new"],["appearance","outline",1,"filter-field"],["matInput","","placeholder","Search playlists...",3,"keyup"],["matSuffix",""],[1,"loading-shade"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-row"],["aria-label","Select page of playlists",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Edit",3,"routerLink"],["mat-icon-button","","color","warn","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""],["colspan","5",1,"mat-cell"]],template:function(i,l){i&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Playlists"),n(),a(4,"button",2)(5,"mat-icon"),o(6,"add"),n(),o(7," Create Playlist "),n()(),a(8,"mat-form-field",3)(9,"mat-label"),o(10,"Filter"),n(),a(11,"input",4),M("keyup",function(_){return l.applyFilter(_)}),n(),a(12,"mat-icon",5),o(13,"search"),n()(),m(14,St,2,0,"div",6),w(15,"async"),a(16,"div",7)(17,"table",8),p(18,9),m(19,wt,2,0,"th",10)(20,bt,2,1,"td",11),d(),p(21,12),m(22,Ot,2,0,"th",10)(23,vt,2,1,"td",11),d(),p(24,13),m(25,Dt,2,0,"th",10)(26,Et,2,1,"td",11),d(),p(27,14),m(28,Lt,2,0,"th",10)(29,Tt,3,3,"td",11),d(),p(30,15),m(31,It,2,0,"th",16)(32,At,7,3,"td",11),d(),m(33,kt,1,0,"tr",17)(34,Rt,1,0,"tr",18)(35,jt,3,0,"tr",19),n(),f(36,"mat-paginator",20),n()()),i&2&&(r(14),h(b(15,6,l.loading$)?14:-1),r(3),c("dataSource",l.dataSource),r(16),c("matHeaderRowDef",l.displayedColumns),r(),c("matRowDefColumns",l.displayedColumns),r(),h(l.dataSource.filteredData.length===0?35:-1),r(),c("pageSizeOptions",T(8,Pt)))},dependencies:[A,k,R,ft,nt,ot,st,lt,at,ct,rt,mt,pt,dt,it,y,et,tt,u,B,Q,z,V,J,G,$,H,F,q,N,U,K,X,Z,Y],styles:[".playlist-list-container[_ngcontent-%COMP%]{padding:16px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.filter-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:200px}table[_ngcontent-%COMP%]{width:100%}.loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000026;z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-actions[_ngcontent-%COMP%]{width:120px;text-align:center}.page-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:3rem;height:3rem;border-radius:.75rem;background:linear-gradient(to right,#dc262633,#2563eb33)}.header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:var(--text-primary)}h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin:0;color:var(--text-primary)}.action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;height:2.5rem}.content-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.card-header-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(to right,#dc262633,#2563eb33)}.card-content[_ngcontent-%COMP%]{padding:1.5rem}.filter-field[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 0;color:var(--text-secondary)}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem}.table-container[_ngcontent-%COMP%]{position:relative;min-height:200px;overflow:auto}.data-table[_ngcontent-%COMP%]{width:100%}.playlist-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.playlist-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;border-radius:.5rem;background:#ffffff0d}.playlist-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;height:1.25rem;width:1.25rem;color:var(--icon-color)}.description-cell[_ngcontent-%COMP%], .date-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.description-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .date-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;height:1.25rem;width:1.25rem;color:var(--icon-color)}.description-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .date-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.empty-row[_ngcontent-%COMP%]{height:10rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;color:var(--text-muted)}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem;margin-bottom:1rem}"]})};export{Mt as PlaylistListComponent};
