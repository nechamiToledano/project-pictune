import './polyfills.server.mjs';
import{a as R,b as T,c as $,e as j,f as G}from"./chunk-AZPBKVHK.mjs";import{b as Q,c as W}from"./chunk-JIFKGHGB.mjs";import{d as J,g as K}from"./chunk-PLV2ZNAN.mjs";import"./chunk-JPBG2L4B.mjs";import{a as L,b as H}from"./chunk-YLXWEWHB.mjs";import{a as D,b as k,g as V,h as q}from"./chunk-AF4CMDFM.mjs";import{a as U,b as z}from"./chunk-M6DPW4RJ.mjs";import{a as C,d as b}from"./chunk-ULA7H4B2.mjs";import{a as S,b as y,d as I,e as N,g as x,h as E,i as O,j as A,l as P}from"./chunk-E473LQDB.mjs";import{n as B,o as w}from"./chunk-VG6OVTLA.mjs";import{Db as r,Eb as n,Fb as d,Lb as f,Nc as h,Wb as a,Xb as F,Ya as m,bb as s,cc as M,dc as v,hb as g,mb as c,ub as p,ud as _,zb as u}from"./chunk-NW7SNNUU.mjs";import"./chunk-X2SEQXRR.mjs";function Y(i,e){i&1&&(r(0,"mat-error"),a(1," File name is required "),n())}function Z(i,e){i&1&&d(0,"mat-spinner",8)}function ii(i,e){i&1&&(r(0,"span"),a(1),n()),i&2&&(m(),F("Update"))}var X=class i{constructor(e,t,o,l){this.formBuilder=e;this.route=t;this.router=o;this.store=l;this.loading$=this.store.select(W),this.selectedMusicFile$=this.store.select(Q)}musicFileForm;musicFileId=null;loading$;selectedMusicFile$;ngOnInit(){this.initForm();let e=this.route.snapshot.paramMap.get("id");e&&(this.musicFileId=+e,this.store.dispatch(J({id:this.musicFileId})),this.selectedMusicFile$.subscribe(t=>{t&&this.musicFileForm.patchValue({fileName:t.fileName})}))}initForm(){this.musicFileForm=this.formBuilder.group({fileName:["",[y.required]]})}onSubmit(){this.musicFileForm.invalid||this.musicFileId&&this.store.dispatch(K({id:this.musicFileId,musicFile:{fileName:this.musicFileForm.value.fileName}}))}onCancel(){this.router.navigate(["/music-files"])}static \u0275fac=function(t){return new(t||i)(s(A),s(C),s(b),s(_))};static \u0275cmp=g({type:i,selectors:[["app-music-file-form"]],decls:21,vars:9,consts:[[1,"music-file-form-container"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"full-width"],["matInput","","formControlName","fileName","placeholder","Enter file name"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20"]],template:function(t,o){if(t&1&&(r(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),a(4),n()(),r(5,"mat-card-content")(6,"form",1),f("ngSubmit",function(){return o.onSubmit()}),r(7,"div",2)(8,"mat-form-field",3)(9,"mat-label"),a(10,"File Name"),n(),d(11,"input",4),c(12,Y,2,0,"mat-error"),n()(),r(13,"div",5)(14,"button",6),f("click",function(){return o.onCancel()}),a(15,"Cancel"),n(),r(16,"button",7),M(17,"async"),c(18,Z,1,0,"mat-spinner",8),M(19,"async"),c(20,ii,2,1,"span"),n()()()()()()),t&2){let l;m(4),F("Edit Music File"),m(2),p("formGroup",o.musicFileForm),m(6),u((l=o.musicFileForm.get("fileName"))!=null&&l.hasError("required")?12:-1),m(4),p("disabled",o.musicFileForm.invalid||v(17,5,o.loading$)),m(2),u(v(19,7,o.loading$)?18:20)}},dependencies:[h,P,x,S,I,N,E,O,G,R,$,j,T,q,V,D,k,H,L,w,B,z,U],styles:[".music-file-form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.form-row[_ngcontent-%COMP%]{margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:24px}mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin-right:8px}"]})};export{X as MusicFileFormComponent};
