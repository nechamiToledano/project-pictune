import './polyfills.server.mjs';
import{a as f}from"./chunk-HT7GNL37.mjs";import"./chunk-PS4EPEVH.mjs";import{b as E}from"./chunk-GQLDB7IG.mjs";import{a as R}from"./chunk-RAEV4Z4K.mjs";import"./chunk-FEPBYFWV.mjs";import{c as g,e as D}from"./chunk-KTZXPR5P.mjs";import"./chunk-I3U5347A.mjs";import"./chunk-IDALE5SX.mjs";import"./chunk-67XILVAA.mjs";import{a as I,b as P}from"./chunk-LSU7UT5O.mjs";import{a as T,f as w}from"./chunk-AZPBKVHK.mjs";import{a as B}from"./chunk-JIFKGHGB.mjs";import"./chunk-PLV2ZNAN.mjs";import"./chunk-JPBG2L4B.mjs";import{h as M}from"./chunk-AF4CMDFM.mjs";import{k as x}from"./chunk-E473LQDB.mjs";import{o as k}from"./chunk-VG6OVTLA.mjs";import{Db as e,Eb as t,Fb as r,Nc as y,Wb as i,Xb as d,Ya as s,bb as v,cc as m,ce as p,dc as b,ea as h,hb as u,ib as _,s as c,ud as C}from"./chunk-NW7SNNUU.mjs";import"./chunk-X2SEQXRR.mjs";var L=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=_({type:n});static \u0275inj=h({imports:[p,p]})}return n})();var A=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=_({type:n});static \u0275inj=h({imports:[p]})}return n})();var O=class n{constructor(l){this.store=l;this.userCount$=this.store.select(R).pipe(c(a=>a.length)),this.musicFileCount$=this.store.select(B).pipe(c(a=>a.length)),this.playlistCount$=this.store.select(f).pipe(c(a=>a.length)),this.averageFilesPerPlaylist$=this.store.select(f).pipe(c(a=>{if(a.length===0)return 0;let o=a.reduce((F,V)=>F+(V.songs?.length||0),0);return Math.round(o/a.length*10)/10}))}userCount$;musicFileCount$;playlistCount$;averageFilesPerPlaylist$;getMaxValue(l){return Math.max(...l.map(a=>a.count))*1.1}getBarHeight(l,a){return`${l/a*100}%`}static \u0275fac=function(a){return new(a||n)(v(C))};static \u0275cmp=u({type:n,selectors:[["app-analytics"]],decls:61,vars:12,consts:[[1,"page-container","fade-in"],[1,"page-header"],[1,"header-title"],[1,"header-icon"],[1,"stats-cards"],[1,"stat-card"],[1,"card-header-line"],[1,"stat-card-content"],[1,"stat-icon","users-icon"],[1,"stat-info"],[1,"stat-value"],[1,"stat-change","positive"],[1,"stat-icon","files-icon"],[1,"stat-icon","playlists-icon"],[1,"stat-icon","avg-icon"],[1,"stat-change","neutral"]],template:function(a,o){a&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),i(5,"analytics"),t()(),e(6,"h1"),i(7,"Analytics Dashboard"),t()()(),e(8,"div",4)(9,"mat-card",5),r(10,"div",6),e(11,"div",7)(12,"div",8)(13,"mat-icon"),i(14,"people"),t()(),e(15,"div",9)(16,"h3"),i(17,"Total Users"),t(),e(18,"div",10),i(19),m(20,"async"),t(),r(21,"div",11),t()()(),e(22,"mat-card",5),r(23,"div",6),e(24,"div",7)(25,"div",12)(26,"mat-icon"),i(27,"music_note"),t()(),e(28,"div",9)(29,"h3"),i(30,"Music Files"),t(),e(31,"div",10),i(32),m(33,"async"),t(),r(34,"div",11),t()()(),e(35,"mat-card",5),r(36,"div",6),e(37,"div",7)(38,"div",13)(39,"mat-icon"),i(40,"playlist_play"),t()(),e(41,"div",9)(42,"h3"),i(43,"Playlists"),t(),e(44,"div",10),i(45),m(46,"async"),t(),r(47,"div",11),t()()(),e(48,"mat-card",5),r(49,"div",6),e(50,"div",7)(51,"div",14)(52,"mat-icon"),i(53,"bar_chart"),t()(),e(54,"div",9)(55,"h3"),i(56,"Avg. Files per Playlist"),t(),e(57,"div",10),i(58),m(59,"async"),t(),r(60,"div",15),t()()()()()),a&2&&(s(19),d(b(20,4,o.userCount$)),s(13),d(b(33,6,o.musicFileCount$)),s(13),d(b(46,8,o.playlistCount$)),s(13),d(b(59,10,o.averageFilesPerPlaylist$)))},dependencies:[y,w,T,P,I,k,L,A,E,g,M,x,D],styles:[".page-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:3rem;height:3rem;border-radius:.75rem;background:linear-gradient(to right,#dc262633,#2563eb33)}.header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:var(--text-primary)}h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin:0;color:var(--text-primary)}.time-range-selector[_ngcontent-%COMP%]{width:150px}.stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem;margin-bottom:1.5rem}.stat-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.card-header-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(to right,#dc262633,#2563eb33)}.stat-card-content[_ngcontent-%COMP%]{padding:1.5rem;display:flex;align-items:center;gap:1rem}.stat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:3rem;height:3rem;border-radius:.75rem}.stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem;color:#fff}.users-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.files-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#b91c1c)}.playlists-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#047857)}.avg-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#6d28d9)}.stat-info[_ngcontent-%COMP%]{flex:1}h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.875rem;font-weight:500;color:var(--text-secondary)}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin-bottom:.5rem;color:var(--text-primary)}.stat-change[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem}.stat-change[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.positive[_ngcontent-%COMP%]{color:#10b981}.negative[_ngcontent-%COMP%]{color:#ef4444}.neutral[_ngcontent-%COMP%]{color:#9ca3af}.analytics-tabs[_ngcontent-%COMP%]{margin-bottom:1.5rem}.chart-card[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-top:1rem}.chart-container[_ngcontent-%COMP%]{height:300px;padding:1.5rem .5rem}.bar-chart[_ngcontent-%COMP%]{display:flex;height:100%;align-items:flex-end}.chart-y-axis[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%;padding-right:1rem;color:var(--text-primary);font-size:.75rem}.chart-bars[_ngcontent-%COMP%]{display:flex;flex:1;align-items:flex-end;justify-content:space-around;height:100%}.chart-bar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%}.chart-bar[_ngcontent-%COMP%]{width:2rem;background:linear-gradient(to top,#3b82f6,#60a5fa);border-radius:4px 4px 0 0;transition:height .3s ease}.files-bar[_ngcontent-%COMP%]{background:linear-gradient(to top,#ef4444,#f87171)}.chart-bar-label[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;color:var(--text-primary)}.genre-distribution[_ngcontent-%COMP%], .system-metrics[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:1.5rem .5rem}.genre-item[_ngcontent-%COMP%], .metric-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.genre-info[_ngcontent-%COMP%], .metric-info[_ngcontent-%COMP%]{width:150px;display:flex;flex-direction:column;gap:.25rem}.metric-info[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:.5rem}.genre-name[_ngcontent-%COMP%], .metric-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary)}.genre-count[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-primary)}.genre-bar-container[_ngcontent-%COMP%], .metric-bar-container[_ngcontent-%COMP%]{flex:1}.genre-percentage[_ngcontent-%COMP%], .metric-percentage[_ngcontent-%COMP%]{width:50px;text-align:right;font-weight:500;color:var(--text-primary)}  .mat-mdc-tab-header{background-color:var(--bg-card);border-radius:8px 8px 0 0}  .mat-mdc-tab-label{opacity:1!important}  .mat-mdc-tab-body-content{overflow:hidden}  .mat-mdc-progress-bar{border-radius:4px}"]})};export{O as AnalyticsComponent};
